import { DefaultStateLogger, type GameDefinition } from '@tabletop/common'
import type { Hydrated{{properCase game}}GameState, {{properCase game}}GameState } from '../model/gameState.js'
import { {{properCase game}}Hydrator } from './hydrator.js'
import { {{properCase game}}GameInitializer } from './initializer.js'
import { {{properCase game}}ApiActions } from './apiActions.js'
import { {{properCase game}}StateHandlers } from './stateHandlers.js'
import { {{properCase game}}Colors } from './colors.js'
import { {{properCase game}}Configurator } from './configurator.js'
import { GAME_VERSION } from './version.js'

// The export MUST be named Definition and be of type GameDefinition
export const Definition: GameDefinition<{{properCase game}}GameState, Hydrated{{properCase game}}GameState> =
    <GameDefinition<{{properCase game}}GameState, Hydrated{{properCase game}}GameState>>{
    info: {
        id: '{{kebabCase game}}',
        metadata: {
            name: '{{properCase game}}',
            designer: 'Unknown',
            description:
                '{{properCase game}} is a tabletop game implemented using the Tabletop framework.',
            year: '2026',
            minPlayers: 2,
            maxPlayers: 5,
            defaultPlayerCount: 4,
            version: GAME_VERSION,
            beta: true
        },
        configurator: new {{properCase game}}Configurator()
    },
    runtime: {
        initializer: new {{properCase game}}GameInitializer(),
        hydrator: new {{properCase game}}Hydrator(),
        stateHandlers: {{properCase game}}StateHandlers,
        apiActions: {{properCase game}}ApiActions,
        playerColors: {{properCase game}}Colors,
        stateLogger: new DefaultStateLogger() // This never really got used, but it could do some custom logging if desired
    }
}